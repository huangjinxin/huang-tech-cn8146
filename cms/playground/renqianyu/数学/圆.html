<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>åœ†çš„åŠå¾„ã€ç›´å¾„ã€å‘¨é•¿ã€é¢ç§¯ â”€ äº’åŠ¨æ•™å­¦</title>
<style>
    /*------------------- åŸºç¡€å¸ƒå±€ -------------------*/
    body{
        margin:0; padding:0;
        font-family:"Segoe UI",Arial,sans-serif;
        background:#f6f9fc;
        color:#333;
        display:flex;
        min-height:100vh;
    }
    .sidebar{
        flex:0 0 280px;
        background:#2c3e50;
        color:#ecf0f1;
        padding:20px;
        box-sizing:border-box;
        text-align:center;
        position:relative;
    }
    .main{
        flex:1;
        padding:30px;
        box-sizing:border-box;
    }

    /*------------------- ç”µè„‘æ¨¡å‹ -------------------*/
    .monitor{
        width:260px;
        height:180px;
        background:#111;
        border-radius:6px;
        margin:0 auto;
        box-shadow:0 8px 30px rgba(0,0,0,0.4);
        position:relative;
    }
    .screen{
        width:240px;
        height:140px;
        margin:10px auto;
        background:#0b3d91;
        border-radius:4px;
        overflow:hidden;
        display:flex;
        align-items:center;
        justify-content:center;
        color:#fff;
        font-size:1.2rem;
        font-weight:bold;
        background:linear-gradient(135deg,#0b3d91,#1a73e8);
    }
    .base{ width:120px;height:12px;background:#111;margin:5px auto;border-radius:2px; }
    .stand{ width:24px;height:6px;background:#111;margin:2px auto; }

    /*------------------- æ•™å­¦æ–‡å­— -------------------*/
    h1{font-size:2rem;color:#2c3e50;margin-top:0;}
    .section{margin-bottom:2rem;}
    .section h2{
        font-size:1.4rem;color:#2c3e50;
        border-left:4px solid #2980b9;
        padding-left:8px;
        margin-bottom:0.6rem;
    }
    p{line-height:1.6;}

    /*------------------- è®¡ç®—å™¨ -------------------*/
    .calc-box{
        display:grid;
        grid-template-columns:1fr auto;
        gap:10px;
        margin-top:1rem;
    }
    .calc-box input{
        padding:8px;
        font-size:1rem;
        border:1px solid #bbb;
        border-radius:4px;
    }
    .calc-box button{
        padding:8px 12px;
        font-size:1rem;
        background:#2980b9;
        color:#fff;
        border:none;
        border-radius:4px;
        cursor:pointer;
        transition:background .2s;
    }
    .calc-box button:hover{background:#1f639a;}
    .result{
        margin-top:0.8rem;
        font-weight:600;
        color:#27ae60;
    }

    /*------------------- åœ†å½¢ç»˜å›¾ -------------------*/
    .canvas-wrapper{
        margin-top:1.5rem;
        text-align:center;
    }
    .canvas-wrapper canvas{
        border:1px solid #bbb;
        background:#fff;
        border-radius:4px;
    }

    /*------------------- å°æµ‹éªŒ -------------------*/
    .quiz{
        margin-top:2rem;
        padding:15px;
        background:#fff;
        border-left:5px solid #e67e22;
        box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .quiz input{
        width:90px;
        padding:5px;
        margin-left:5px;
        font-size:1rem;
    }
    .quiz button{
        margin-left:10px;
        background:#e67e22;
        color:#fff;
        border:none;
        padding:6px 12px;
        border-radius:4px;
        cursor:pointer;
        transition:background .2s;
    }
    .quiz button:hover{background:#cf711f;}
    .feedback{
        margin-top:0.6rem;
        font-weight:600;
    }
    .feedback.success{color:#27ae60;}
    .feedback.error{color:#c0392b;}

    /*------------------- å“åº”å¼ -------------------*/
    @media (max-width:800px){
        body{flex-direction:column;}
        .sidebar{flex:0 0 auto;width:100%;}
        .main{padding:15px;}
    }
</style>
</head>
<body>

<div class="sidebar">
    <div class="monitor">
        <div class="screen">åœ†çš„ä¸–ç•Œ</div>
        <div class="base"></div>
        <div class="stand"></div>
    </div>
    <p style="margin-top:1rem;">è®©æ•°å­¦åƒç©æ¸¸æˆä¸€æ ·æœ‰è¶£ï¼</p>
</div>

<div class="main">
    <h1>åœ†çš„åŠå¾„ã€ç›´å¾„ã€å‘¨é•¿ã€é¢ç§¯</h1>

    <!-- æ•™å­¦æ–‡å­— -->
    <section class="section">
        <h2>ğŸ“˜ åŸºæœ¬æ¦‚å¿µ</h2>
        <p><strong>åŠå¾„ (r)</strong>ï¼šåœ†å¿ƒåˆ°åœ†å‘¨ä¸Šä»»ä¸€ç‚¹çš„è·ç¦»ã€‚</p>
        <p><strong>ç›´å¾„ (d)</strong>ï¼šç©¿è¿‡åœ†å¿ƒã€è¿æ¥åœ†å‘¨ä¸¤ç«¯çš„çº¿æ®µï¼Œé•¿åº¦æ˜¯åŠå¾„çš„ä¸¤å€ã€‚</p>
        <p>å…¬å¼ï¼š<code>d = 2 Ã— r</code></p>

        <p><strong>å‘¨é•¿ (C)</strong>ï¼šåœ†çš„å¤–è¾¹ç¼˜é•¿åº¦ã€‚</p>
        <p>å…¬å¼ï¼š<code>C = 2 Ã— Ï€ Ã— r = Ï€ Ã— d</code></p>

        <p><strong>é¢ç§¯ (A)</strong>ï¼šåœ†å†…éƒ¨æ‰€åŒ…å«çš„é¢ç§¯ã€‚</p>
        <p>å…¬å¼ï¼š<code>A = Ï€ Ã— rÂ²</code></p>

        <p>å…¶ä¸­ <code>Ï€ â‰ˆ 3.14159</code>ï¼ˆç”¨ <code>Math.PI</code> æ›´ç²¾ç¡®ï¼‰ã€‚</p>
    </section>

    <!-- äº¤äº’è®¡ç®—å™¨ -->
    <section class="section">
        <h2>ğŸ§® äº¤äº’è®¡ç®—å™¨</h2>
        <div class="calc-box">
            <input type="number" id="radiusInput" placeholder="è¯·è¾“å…¥åŠå¾„ r" min="0" step="any">
            <button onclick="calcAll()">è®¡ç®—</button>
        </div>
        <div class="result" id="calcResult"></div>

        <!-- åŠ¨æ€ç»˜åˆ¶åœ† -->
        <div class="canvas-wrapper">
            <canvas id="circleCanvas" width="300" height="300"></canvas>
        </div>
    </section>

    <!-- å°æµ‹éªŒ -->
    <section class="section">
        <h2>â“ å°æµ‹éªŒï¼šæ±‚ç›´å¾„</h2>
        <div class="quiz">
            <p id="quizPrompt">ç‚¹å‡» â€œå¼€å§‹æµ‹éªŒâ€ æ¥è·å–éšæœºåŠå¾„ã€‚</p>
            <button id="startQuizBtn">å¼€å§‹æµ‹éªŒ</button>

            <div id="quizArea" style="display:none;">
                <label>åŠå¾„ r = <span id="quizR"></span>ï¼Œè¯·è¾“å…¥ç›´å¾„ dï¼š</label>
                <input type="number" id="quizAnswer" step="any">
                <button onclick="checkQuiz()">æäº¤</button>
                <div class="feedback" id="quizFeedback"></div>
            </div>
        </div>
    </section>
</div>

<script>
/* ---------- å£°éŸ³å·¥å…· ---------- */
const beep = new (window.AudioContext || window.webkitAudioContext)();
function playTone(freq, duration=0.12){
    const osc = beep.createOscillator();
    const gain = beep.createGain();
    osc.frequency.value = freq;
    osc.type = "sine";
    osc.connect(gain);
    gain.connect(beep.destination);
    osc.start();
    gain.gain.setValueAtTime(0.001, beep.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.2, beep.currentTime + 0.01);
    gain.gain.exponentialRampToValueAtTime(0.001, beep.currentTime + duration);
    osc.stop(beep.currentTime + duration);
}

/* ---------- è®¡ç®—å™¨ ---------- */
function calcAll(){
    const r = parseFloat(document.getElementById('radiusInput').value);
    const resultDiv = document.getElementById('calcResult');
    if(isNaN(r) || r <= 0){
        resultDiv.innerHTML = '<span style="color:#c0392b;">è¯·è¾“å…¥å¤§äº 0 çš„åŠå¾„ï¼</span>';
        playTone(220);   // ä½éŸ³æç¤ºé”™è¯¯
        clearCanvas();
        return;
    }
    const d = 2 * r;
    const C = 2 * Math.PI * r;
    const A = Math.PI * r * r;
    resultDiv.innerHTML = `
        <p>ç›´å¾„ d = <strong>${d.toFixed(3)}</strong></p>
        <p>å‘¨é•¿ C = <strong>${C.toFixed(3)}</strong></p>
        <p>é¢ç§¯ A = <strong>${A.toFixed(3)}</strong></p>
    `;
    drawCircle(r);
    playTone(880);   // æˆåŠŸçš„é«˜éŸ³
}

/* ---------- ç»˜åˆ¶åœ†å½¢ ---------- */
function drawCircle(radius){
    const canvas = document.getElementById('circleCanvas');
    const ctx = canvas.getContext('2d');
    const w = canvas.width, h = canvas.height;
    const scale = Math.min(w, h) / (2 * (radius + 20)); // ç•™ç‚¹è¾¹è·
    const R = radius * scale;

    // æ¸…ç©º
    ctx.clearRect(0,0,w,h);

    // åœ†
    ctx.beginPath();
    ctx.arc(w/2, h/2, R, 0, Math.PI*2);
    ctx.strokeStyle = '#2980b9';
    ctx.lineWidth = 3;
    ctx.stroke();

    // åŠå¾„çº¿
    ctx.beginPath();
    ctx.moveTo(w/2, h/2);
    ctx.lineTo(w/2 + R, h/2);
    ctx.strokeStyle = '#27ae60';
    ctx.lineWidth = 2;
    ctx.stroke();

    // ç›´å¾„çº¿
    ctx.beginPath();
    ctx.moveTo(w/2 - R, h/2);
    ctx.lineTo(w/2 + R, h/2);
    ctx.strokeStyle = '#e67e22';
    ctx.lineWidth = 2;
    ctx.stroke();

    // æ ‡æ³¨æ–‡å­—
    ctx.font = '14px sans-serif';
    ctx.fillStyle = '#2c3e50';
    // åŠå¾„
    ctx.fillText('r', w/2 + R/2 - 10, h/2 - 6);
    // ç›´å¾„
    ctx.fillText('d', w/2, h/2 - 10);
}
function clearCanvas(){
    const canvas = document.getElementById('circleCanvas');
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0,0,canvas.width,canvas.height);
}

/* ---------- å°æµ‹éªŒ ---------- */
let currentR = 0;
document.getElementById('startQuizBtn').addEventListener('click', () => {
    currentR = (Math.random()*9 + 1).toFixed(2); // 1~10 éšæœºä¿ç•™ä¸¤ä½
    document.getElementById('quizR').innerText = currentR;
    document.getElementById('quizArea').style.display = 'block';
    document.getElementById('quizPrompt').innerText = 'è¯·æ ¹æ®ç»™å‡ºçš„åŠå¾„ç®—å‡ºå¯¹åº”çš„ç›´å¾„ã€‚';
    document.getElementById('quizFeedback').innerHTML = '';
    document.getElementById('quizAnswer').value = '';
    document.getElementById('startQuizBtn').disabled = true;
});

function checkQuiz(){
    const ans = parseFloat(document.getElementById('quizAnswer').value);
    const correct = (2*currentR).toFixed(2);
    const feedback = document.getElementById('quizFeedback');

    if(isNaN(ans)){
        feedback.innerHTML = '<span class="error">è¯·è¾“å…¥æ•°å€¼ï¼</span>';
        playTone(220);
        return;
    }
    if (Math.abs(ans - correct) < 0.01){
        feedback.innerHTML = `<span class="success">æ­å–œï¼Œç­”å¯¹äº†ï¼ç›´å¾„ = ${correct}</span>`;
        playTone(880);
    }else{
        feedback.innerHTML = `<span class="error">ç­”é”™äº†ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ ${correct}</span>`;
        playTone(220);
    }
    // ç»“æŸæœ¬è½®
    document.getElementById('startQuizBtn').disabled = false;
}
</script>
</body>
</html>