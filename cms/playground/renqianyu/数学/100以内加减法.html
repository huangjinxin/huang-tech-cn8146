<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>100 ä»¥å†…ä¹˜æ³•ç»ƒä¹ è¯•å·</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root{
        --bg:#f7fbff;
        --card:#fff;
        --primary:#1976d2;
        --primary-light:#63a4ff;
        --success:#388e3c;
        --danger:#d32f2f;
        --radius:8px;
        --shadow:0 4px 12px rgba(0,0,0,.08);
        --font:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    }
    body{
        margin:0;
        padding:2rem 1rem;
        font-family:var(--font);
        background:var(--bg);
        color:#333;
        display:flex;
        flex-direction:column;
        align-items:center;
        min-height:100vh;
        box-sizing:border-box;
    }
    h1{
        color:var(--primary);
        margin-bottom:.5rem;
    }
    .card{
        background:var(--card);
        border-radius:var(--radius);
        box-shadow:var(--shadow);
        max-width:600px;
        width:100%;
        padding:1.5rem;
    }
    .question{
        display:flex;
        align-items:center;
        margin:.8rem 0;
        font-size:1.1rem;
    }
    .question label{
        margin-right:.4rem;
    }
    .question input{
        width:3.4rem;
        padding:.3rem;
        font-size:1rem;
        text-align:center;
        border:1px solid #bbb;
        border-radius:4px;
        margin-left:.6rem;
    }
    .controls{
        text-align:center;
        margin-top:1.5rem;
    }
    button{
        background:var(--primary);
        color:#fff;
        border:none;
        padding:.6rem 1.2rem;
        font-size:1rem;
        border-radius:4px;
        cursor:pointer;
        transition:background .2s;
    }
    button:hover{
        background:var(--primary-light);
    }
    #timer{
        position:fixed;
        top:1rem;
        right:1rem;
        background:#fff;
        padding:.6rem 1rem;
        border-radius:var(--radius);
        box-shadow:var(--shadow);
        font-weight:bold;
        color:var(--primary);
    }
    .result{
        text-align:center;
    }
    .result h2{
        color:var(--success);
    }
    .answer-list{
        margin-top:1rem;
        text-align:left;
        line-height:1.6;
    }
    footer{
        margin-top:auto;
        padding:1rem 0;
        font-size:.85rem;
        color:#777;
        text-align:center;
        width:100%;
    }
</style>
</head>
<body>

<div id="timer">00:00</div>

<div class="card" id="quiz-card">
    <h1>100 ä»¥å†…ä¹˜æ³•ç»ƒä¹ </h1>
    <p>éšæœºç”Ÿæˆçš„ 12 é¢˜ï¼Œå…¨éƒ¨ç­”æ¡ˆ â‰¤â€¯100ã€‚è¯·å¡«å†™æ‰€æœ‰ç­”æ¡ˆåç‚¹å‡»ã€Œæäº¤ã€ã€‚</p>
    <form id="quiz-form"></form>
    <div class="controls">
        <button type="button" id="submit-btn">æäº¤</button>
    </div>
</div>

<div class="card" id="result-card" style="display:none;">
    <div class="result">
        <h2>ğŸ‰ ä½ çš„æˆç»©</h2>
        <p id="score-text"></p>
        <p id="time-text"></p>
        <h3>æ­£ç¡®ç­”æ¡ˆ</h3>
        <ul class="answer-list" id="answer-list"></ul>
    </div>
</div>

<footer>
ä»Šå¤©æ˜¯ 2025/8/23 18:05:27ï¼Œè¿è¡Œäº macï¼ˆarm64 æ¶æ„ï¼‰ä¸Šçš„ç³»ç»Ÿä¸­ï¼Œç”¨æˆ· Unknown Username æ­£åœ¨ä½¿ç”¨ zh-CN è¯­è¨€ï¼Œå€ŸåŠ©æ¨¡å‹ gpt-oss-120b å®Œæˆæ“ä½œã€‚
</footer>

<script>
/* ---------- å‚æ•°è®¾ç½® ---------- */
const QUESTION_COUNT = 12;   // é¢˜ç›®æ•°é‡ï¼ˆ10~15 ä¹‹é—´ï¼‰
const MAX_PRODUCT   = 100;   // ä¹˜ç§¯ä¸Šé™
/* -------------------------------- */

let quizData = [];   // [{a,b,answer,user}]
let timerId;
let elapsed = 0;

// ---- è®¡æ—¶å™¨ ----
function startTimer(){
    timerId = setInterval(()=>{
        elapsed++;
        const m = String(Math.floor(elapsed/60)).padStart(2,'0');
        const s = String(elapsed%60).padStart(2,'0');
        document.getElementById('timer').textContent = `${m}:${s}`;
    },1000);
}
function stopTimer(){ clearInterval(timerId); }

// ---- äº§ç”Ÿç¬¦åˆæ¡ä»¶çš„ä¹˜æ³•é¢˜ ----
function generateQuestion(){
    // éšæœºæŒ‘é€‰ä¸¤ä¸ªæ•°ï¼Œç¡®ä¿ä¹˜ç§¯ä¸è¶…è¿‡ MAX_PRODUCT
    while(true){
        const a = Math.floor(Math.random()* (MAX_PRODUCT+1));
        const b = Math.floor(Math.random()* (MAX_PRODUCT+1));
        if(a===0 || b===0) continue; // å¿½ç•¥ 0*Xï¼Œå¤ªç®€å•
        if(a*b <= MAX_PRODUCT) return {a,b,answer:a*b};
    }
}

// ---- æ¸²æŸ“é¢˜ç›® ----
function renderQuestions(){
    const form = document.getElementById('quiz-form');
    form.innerHTML = '';
    for(let i=0;i<QUESTION_COUNT;i++){
        const q = generateQuestion();
        quizData.push(q);
        const div = document.createElement('div');
        div.className = 'question';
        div.innerHTML = `
            <label>${q.a} Ã— ${q.b} = </label>
            <input type="number" min="0" max="${MAX_PRODUCT}" required data-index="${i}">
        `;
        form.appendChild(div);
    }
}

// ---- è¯„åˆ¤ç­”æ¡ˆ ----
function evaluate(){
    let correct = 0;
    const inputs = document.querySelectorAll('#quiz-form input');
    inputs.forEach(inp=>{
        const idx = Number(inp.dataset.index);
        const val = Number(inp.value);
        quizData[idx].user = val;
        if(val === quizData[idx].answer) correct++;
    });
    return correct;
}

// ---- æ˜¾ç¤ºç»“æœé¡µé¢ ----
function showResult(score){
    stopTimer();
    document.getElementById('quiz-card').style.display = 'none';
    const resultCard = document.getElementById('result-card');
    resultCard.style.display = 'block';

    const total = QUESTION_COUNT;
    document.getElementById('score-text').textContent = `å¾—åˆ†ï¼š${score} / ${total}`;
    const m = String(Math.floor(elapsed/60)).padStart(2,'0');
    const s = String(elapsed%60).padStart(2,'0');
    document.getElementById('time-text').textContent = `ç”¨æ—¶ï¼š${m} åˆ† ${s} ç§’`;

    const ul = document.getElementById('answer-list');
    ul.innerHTML = '';
    quizData.forEach((q,i)=>{
        const li = document.createElement('li');
        const ok = q.user === q.answer;
        li.innerHTML = `
            ç¬¬ ${i+1} é¢˜ï¼š ${q.a} Ã— ${q.b} = ${q.answer}
            ï¼ˆä½ å¡« ${q.user===undefined?'':q.user}ï¼‰ 
            <span style="color:${ok?'var(--success)':'var(--danger)'};">
                ${ok?'âœ” æ­£ç¡®':'âœ˜ é”™è¯¯'}
            </span>
        `;
        ul.appendChild(li);
    });
}

// ---- æäº¤æŒ‰é’®äº‹ä»¶ ----
document.getElementById('submit-btn').addEventListener('click',()=>{
    const inputs = document.querySelectorAll('#quiz-form input');
    for(const inp of inputs){
        if(inp.value.trim() === ''){
            alert('è¯·å…ˆå®Œæˆæ‰€æœ‰é¢˜ç›®ï¼');
            inp.focus();
            return;
        }
    }
    const score = evaluate();
    showResult(score);
});

// ---- åˆå§‹åŒ– ----
window.addEventListener('load',()=>{
    renderQuestions();
    startTimer();
});
</script>
</body>
</html>