<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ÂàõÊÑèÂé®Â∏à - Ëá™Áî±ÁÉπÈ•™Ê∏∏Êàè</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        header {
            background: #4a6572;
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
        }
        
        h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .gold-display {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ffc107;
            color: #333;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        main {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .restaurant-name {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .restaurant-name-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            font-weight: bold;
        }
        
        .restaurant-name-input:focus {
            outline: none;
            border-color: #4a6572;
        }
        
        .section-title {
            font-size: 20px;
            color: #4a6572;
            margin-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .ingredient-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .ingredients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
        }
        
        .ingredient-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }
        
        .ingredient-item:hover:not(.locked) {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .ingredient-item.selected {
            border-color: #4a6572;
            background: #e9ecef;
        }
        
        .ingredient-item.paid {
            background: #fff3e0;
        }
        
        .ingredient-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
            position: relative;
        }
        
        .ingredient-item.locked::after {
            content: 'üîí';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 18px;
        }
        
        .ingredient-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 5px;
        }
        
        .ingredient-name {
            font-size: 14px;
            color: #495057;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .ingredient-price {
            font-size: 12px;
            color: #ff9800;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .buy-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .buy-btn:hover:not(:disabled) {
            background: #f57c00;
            transform: scale(1.05);
        }
        
        .buy-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        
        .cooking-area {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .pot {
            width: 200px;
            height: 150px;
            background: #6d4c41;
            border-radius: 50% 50% 45% 45%;
            position: relative;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 -5px 10px rgba(0,0,0,0.2);
        }
        
        .pot::before {
            content: '';
            position: absolute;
            top: 10px;
            left: -20px;
            right: -20px;
            height: 30px;
            background: #5d4037;
            border-radius: 50%;
        }
        
        .pot-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.1) 100%);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-end;
            padding: 10px;
        }
        
        .ingredient-in-pot {
            width: 30px;
            height: 30px;
            margin: 2px;
            animation: bob 2s infinite ease-in-out;
        }
        
        @keyframes bob {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .cooking-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-clear {
            background: #f44336;
            color: white;
        }
        
        .btn-clear:hover {
            background: #d32f2f;
            transform: scale(1.05);
        }
        
        .btn-cook {
            background: #4caf50;
            color: white;
        }
        
        .btn-cook:hover:not(:disabled) {
            background: #388e3c;
            transform: scale(1.05);
        }
        
        .btn-cook:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        
        .recipe-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .recipe-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }
        
        .recipe-input:focus {
            outline: none;
            border-color: #4a6572;
        }
        
        .rating-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .star {
            font-size: 30px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .star.active {
            color: #ffc107;
        }
        
        .saved-recipes {
            margin-top: 30px;
        }
        
        .recipe-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .recipe-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .recipe-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #4a6572;
        }
        
        .recipe-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 10px;
        }
        
        .recipe-name {
            font-size: 14px;
            font-weight: bold;
            color: #4a6572;
            margin-bottom: 5px;
        }
        
        .recipe-rating {
            color: #ffc107;
            font-size: 14px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 90%;
            width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #999;
            cursor: pointer;
        }
        
        .close-modal:hover {
            color: #333;
        }
        
        .recipe-details h3 {
            color: #4a6572;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .recipe-ingredients {
            margin-bottom: 20px;
        }
        
        .ingredient-tag {
            display: inline-block;
            background: #e9ecef;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
            margin: 3px;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 2000;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .customer-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .customer-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .customer {
            width: 120px;
            height: 120px;
            margin-bottom: 15px;
            position: relative;
        }
        
        .customer-message {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px 15px;
            margin-bottom: 15px;
            position: relative;
            max-width: 80%;
        }
        
        .customer-message::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: #f8f9fa transparent transparent;
        }
        
        .customer-rating {
            display: flex;
            gap: 5px;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .customer-rating .star {
            cursor: default;
        }
        
        .customer-comment {
            font-style: italic;
            color: #666;
            margin-bottom: 10px;
        }
        
        .customer-earnings {
            background: #e8f5e9;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            width: 100%;
        }
        
        .earnings-value {
            font-size: 24px;
            font-weight: bold;
            color: #2e7d32;
        }
        
        .bonus-earnings {
            background: #fff3e0;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            width: 100%;
            margin-top: 10px;
        }
        
        .bonus-value {
            font-size: 24px;
            font-weight: bold;
            color: #e65100;
        }
        
        .serving-area {
            width: 100%;
            padding: 15px;
            background: #f1f8e9;
            border-radius: 10px;
            text-align: center;
        }
        
        .dish-plate {
            width: 100px;
            height: 30px;
            background: #eceff1;
            border-radius: 50%;
            margin: 0 auto 15px;
            position: relative;
            overflow: hidden;
        }
        
        .dish-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn-serve {
            background: #ff9800;
            color: white;
            width: 100%;
        }
        
        .btn-serve:hover:not(:disabled) {
            background: #f57c00;
        }
        
        .btn-serve:disabled {
            background: #cccccc;
        }
        
        .stats {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            text-align: center;
        }
        
        .stat-item {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #4a6572;
        }
        
        .stat-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .competition-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        
        .competition-info {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .competition-title {
            font-size: 18px;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .competition-theme {
            font-size: 16px;
            color: #424242;
            margin-bottom: 10px;
        }
        
        .competition-rules {
            font-size: 14px;
            color: #616161;
        }
        
        .competition-progress {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .competition-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .competition-timer {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #f44336;
            margin-bottom: 20px;
        }
        
        .competition-results {
            display: none;
            margin-top: 20px;
        }
        
        .result-card {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .result-player {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .result-info {
            text-align: left;
        }
        
        .result-name {
            font-weight: bold;
            color: #424242;
        }
        
        .result-score {
            font-size: 14px;
            color: #757575;
        }
        
        .result-points {
            font-size: 20px;
            font-weight: bold;
            color: #4caf50;
        }
        
        .btn-competition {
            background: #2196f3;
            color: white;
            width: 100%;
            margin-top: 15px;
        }
        
        .btn-competition:hover:not(:disabled) {
            background: #1976d2;
        }
        
        .btn-competition:disabled {
            background: #cccccc;
        }
        
        .certificate-wall {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        
        .certificate-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .certificate-count {
            background: #fff3e0;
            color: #e65100;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .certificate-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .certificate-item {
            background: #fff8e1;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .certificate-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .certificate-item::before {
            content: 'üèÜ';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 30px;
            opacity: 0.3;
        }
        
        .certificate-preview {
            height: 100px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .certificate-restaurant {
            font-size: 12px;
            font-weight: bold;
            color: #d84315;
            margin-bottom: 5px;
        }
        
        .certificate-theme {
            font-size: 10px;
            color: #f57c00;
            margin-bottom: 5px;
        }
        
        .certificate-date {
            font-size: 9px;
            color: #795548;
        }
        
        .empty-wall {
            text-align: center;
            color: #999;
            padding: 40px;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .ingredients-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
            
            .pot {
                width: 150px;
                height: 120px;
            }
            
            .ingredient-in-pot {
                width: 25px;
                height: 25px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .gold-display {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 15px;
            }
            
            header {
                padding: 10px;
            }
            
            .gold-display {
                position: absolute;
                top: 15px;
                right: 15px;
            }
            
            .competition-results {
                padding: 0 10px;
            }
            
            .result-card {
                padding: 10px;
            }
            
            .certificate-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üç≥ ÂàõÊÑèÂé®Â∏à</h1>
        <p class="subtitle">Ëá™Áî±Âàõ‰ΩúÁæéÂë≥ÔºåËµ¢ÂæóÈ°æÂÆ¢Â•ΩËØÑÔºÅ</p>
        <div class="gold-display">
            <span>üí∞</span>
            <span id="goldAmount">100</span>
        </div>
    </header>
    
    <main>
        <div class="restaurant-name">
            <h2 class="section-title" style="margin-bottom: 10px;">üè™ ÊàëÁöÑÈ•≠Â∫ó</h2>
            <input type="text" class="restaurant-name-input" id="restaurantNameInput" placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈ•≠Â∫óÂêçÁß∞..." value="ÁæéÂë≥Â∞èÂé®">
        </div>
        
        <section class="ingredient-section">
            <h2 class="section-title">ü•ò ÈÄâÊã©È£üÊùê</h2>
            <div class="ingredients-grid" id="ingredientsGrid">
                <!-- È£üÊùêÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
            </div>
        </section>
        
        <section class="cooking-area">
            <h2 class="section-title">üë®‚Äçüç≥ ÁÉπÈ•™‰∏≠</h2>
            <div class="pot" id="cookingPot">
                <div class="pot-content" id="potContent"></div>
            </div>
            <div class="cooking-actions">
                <button class="btn btn-clear" id="clearBtn">Ê∏ÖÁ©∫ÈîÖÂ≠ê</button>
                <button class="btn btn-cook" id="cookBtn" disabled>ÂÆåÊàêÁÉπÈ•™</button>
            </div>
        </section>
        
        <section class="customer-section">
            <h2 class="section-title">üë• È°æÂÆ¢ÊúçÂä°</h2>
            <div class="serving-area" id="servingArea">
                <p style="margin-bottom: 15px; color: #666;">ÁÉπÈ•™ÂÆåÊàêÂêéÔºå‰∏∫È°æÂÆ¢Êèê‰æõÊÇ®ÁöÑÁæéÈ£üÔºÅ</p>
            </div>
            
            <div class="customer-area" id="customerArea" style="display: none;">
                <div class="customer">
                    <svg viewBox="0 0 100 100">
                        <circle cx="50" cy="45" r="30" fill="#ffccbc" />
                        <circle cx="40" cy="40" r="3" fill="#333" />
                        <circle cx="60" cy="40" r="3" fill="#333" />
                        <path d="M 40 55 Q 50 65 60 55" stroke="#333" stroke-width="2" fill="none" />
                        <ellipse cx="50" cy="80" rx="25" ry="35" fill="#4fc3f7" />
                    </svg>
                </div>
                
                <div class="customer-message" id="customerMessage">
                    <!-- È°æÂÆ¢Ê∂àÊÅØÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                </div>
                
                <div class="customer-rating" id="customerRating">
                    <!-- È°æÂÆ¢ËØÑÂàÜÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                </div>
                
                <div class="customer-comment" id="customerComment">
                    <!-- È°æÂÆ¢ËØÑËÆ∫Â∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                </div>
                
                <div class="customer-earnings">
                    <div>Ëé∑ÂæóÈáëÂ∏Å</div>
                    <div class="earnings-value" id="earningsValue">0</div>
                </div>
                
                <div class="bonus-earnings" id="bonusEarnings" style="display: none;">
                    <div>Â•ΩËØÑÂ•ñÂä±</div>
                    <div class="bonus-value" id="bonusValue">+10</div>
                </div>
                
                <button class="btn btn-cook" id="nextCustomerBtn" style="width: 100%; margin-top: 15px;">‰∏ã‰∏Ä‰ΩçÈ°æÂÆ¢</button>
            </div>
            
            <div class="stats">
                <h3 class="section-title">üìä È§êÂéÖÁªüËÆ°</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalEarnings">0</div>
                        <div class="stat-label">ÊÄªÊî∂ÂÖ•</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="avgRating">0.0</div>
                        <div class="stat-label">Âπ≥ÂùáËØÑÂàÜ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="customersServed">0</div>
                        <div class="stat-label">ÊúçÂä°È°æÂÆ¢</div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="competition-section">
            <h2 class="section-title">üèÜ ÁÉπÈ•™Â§ßËµõ</h2>
            <div class="competition-info" id="competitionInfo">
                <div class="competition-title">ÂèÇÂä†ÁÉπÈ•™Â§ßËµõÔºåËµ¢ÂèñËç£Ë™âÂíåÂ•ñÂä±ÔºÅ</div>
                <div class="competition-theme" id="competitionTheme">Á≠âÂæÖÊØîËµõÂºÄÂßã...</div>
                <div class="competition-rules" id="competitionRules">ÊØîËµõËßÑÂàôÂ∞ÜÂú®ÂºÄÂßãÊó∂ÊòæÁ§∫</div>
            </div>
            
            <div class="competition-progress" id="competitionProgress" style="display: none;">
                <div class="competition-progress-bar" id="progressBar"></div>
            </div>
            
            <div class="competition-timer" id="competitionTimer" style="display: none;">
                ÊØîËµõÊó∂Èó¥Ôºö60Áßí
            </div>
            
            <div class="competition-results" id="competitionResults">
                <h3 style="margin-bottom: 15px; color: #4a6572;">ÊØîËµõÁªìÊûú</h3>
                <div id="resultsContainer"></div>
                
                <div class="certificate" id="certificate" style="display: none;">
                    <div class="certificate-title">Ëé∑Â•ñËØÅ‰π¶</div>
                    <div class="certificate-content">
                        ÊÅ≠ÂñúÊÇ®Âú®ÁÉπÈ•™Â§ßËµõ‰∏≠Ëé∑Âæó‰ºòÂºÇÊàêÁª©ÔºÅ<br>
                        ÊÇ®ÁöÑÂé®Ëâ∫ÂæóÂà∞‰∫ÜËØÑÂßî‰ª¨ÁöÑ‰∏ÄËá¥Â•ΩËØÑÔºÅ
                    </div>
                    <div class="certificate-restaurant" id="certificateRestaurant"></div>
                    <div class="certificate-date" id="certificateDate"></div>
                    <div class="certificate-signature">‚Äî‚Äî ÁæéÈ£üËØÑÂÆ°Âõ¢</div>
                </div>
            </div>
            
            <button class="btn btn-competition" id="startCompetitionBtn">ÂºÄÂßãÊØîËµõ</button>
        </section>
        
        <section class="certificate-wall">
            <div class="certificate-header">
                <h2 class="section-title" style="margin-bottom: 0;">üèÖ Â•ñÁä∂Â±ïÁ§∫Â¢ô</h2>
                <div class="certificate-count" id="certificateCount">0‰∏™Â•ñÁä∂</div>
            </div>
            <div class="certificate-grid" id="certificateGrid">
                <div class="empty-wall">ËøòÊ≤°ÊúâËé∑Âæó‰ªª‰ΩïÂ•ñÁä∂ÔºåÂø´ÂéªÂèÇÂä†ÊØîËµõÂêßÔºÅ</div>
            </div>
        </section>
        
        <section class="recipe-section">
            <h2 class="section-title">üíæ ‰øùÂ≠òÊÇ®ÁöÑÂàõ‰Ωú</h2>
            <input type="text" class="recipe-input" id="recipeName" placeholder="‰∏∫ÊÇ®ÁöÑÁæéÂë≥ËèúËÇ¥ÂëΩÂêç...">
            
            <div class="rating-container">
                <span>ËØÑÂàÜ:</span>
                <span class="star" data-rating="1">‚òÖ</span>
                <span class="star" data-rating="2">‚òÖ</span>
                <span class="star" data-rating="3">‚òÖ</span>
                <span class="star" data-rating="4">‚òÖ</span>
                <span class="star" data-rating="5">‚òÖ</span>
                <span id="ratingValue">0/5</span>
            </div>
            
            <button class="btn btn-cook" id="saveBtn" disabled>‰øùÂ≠òÈ£üË∞±</button>
            
            <div class="saved-recipes" id="savedRecipes">
                <h3 class="section-title">üìñ ÊàëÁöÑÈ£üË∞±</h3>
                <div class="recipe-list" id="recipeList">
                    <!-- ‰øùÂ≠òÁöÑÈ£üË∞±Â∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                </div>
            </div>
        </section>
    </main>
    
    <div class="modal" id="recipeModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <div class="recipe-details" id="recipeDetails">
                <!-- È£üË∞±ËØ¶ÊÉÖÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
            </div>
        </div>
    </div>
    
    <div class="modal" id="certificateModal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-modal" id="closeCertificateModal">&times;</span>
            <div class="certificate" id="certificateModalContent" style="display: block; padding: 40px;">
                <div class="certificate-title">Ëé∑Â•ñËØÅ‰π¶</div>
                <div class="certificate-content">
                    ÊÅ≠ÂñúÊÇ®Âú®ÁÉπÈ•™Â§ßËµõ‰∏≠Ëé∑Âæó‰ºòÂºÇÊàêÁª©ÔºÅ<br>
                    ÊÇ®ÁöÑÂé®Ëâ∫ÂæóÂà∞‰∫ÜËØÑÂßî‰ª¨ÁöÑ‰∏ÄËá¥Â•ΩËØÑÔºÅ
                </div>
                <div class="certificate-restaurant" id="certificateModalRestaurant"></div>
                <div class="certificate-date" id="certificateModalDate"></div>
                <div style="text-align: center; margin-top: 30px;">
                    <div style="display: inline-block; border: 2px solid #666; border-radius: 5px; padding: 10px; font-family: cursive; font-style: italic; font-size: 14px;">
                        ÁæéÈ£üËØÑÂÆ°Âõ¢ Ëç£Ë™âÂá∫ÂìÅ
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // È£üÊùêÊï∞ÊçÆÔºàÊ∑ªÂä†‰ª∑Ê†ºÂ±ûÊÄßÔºâ
        const ingredients = [
            { id: 'tomato', name: 'Áï™ËåÑ', color: '#ff5252', icon: 'üçÖ', price: 0 },
            { id: 'carrot', name: 'ËÉ°ËêùÂçú', color: '#ff9800', icon: 'ü•ï', price: 0 },
            { id: 'onion', name: 'Ê¥ãËë±', color: '#ffeb3b', icon: 'üßÖ', price: 0 },
            { id: 'pepper', name: 'ÈùíÊ§í', color: '#4caf50', icon: 'ü´ë', price: 0 },
            { id: 'mushroom', name: 'ËòëËèá', color: '#795548', icon: 'üçÑ', price: 0 },
            { id: 'pork', name: 'Áå™ËÇâ', color: '#f44336', icon: 'ü•©', price: 10 },
            { id: 'beef', name: 'ÁâõËÇâ', color: '#d32f2f', icon: 'ü•©', price: 15 },
            { id: 'chicken', name: 'È∏°ËÇâ', color: '#ffeb3b', icon: 'üçó', price: 8 },
            { id: 'fish', name: 'È±º', color: '#2196f3', icon: 'üêü', price: 12 },
            { id: 'egg', name: 'È∏°Ëõã', color: '#fff', icon: 'ü•ö', price: 5 },
            { id: 'rice', name: 'Á±≥È•≠', color: '#f5f5dc', icon: 'üçö', price: 0 },
            { id: 'noodle', name: 'Èù¢Êù°', color: '#f5f5dc', icon: 'üçú', price: 0 },
            { id: 'potato', name: 'ÂúüË±Ü', color: '#d7ccc8', icon: 'ü•î', price: 0 },
            { id: 'corn', name: 'ÁéâÁ±≥', color: '#ffeb3b', icon: 'üåΩ', price: 0 },
            { id: 'cheese', name: 'Â•∂ÈÖ™', color: '#fff59d', icon: 'üßÄ', price: 10 },
            { id: 'garlic', name: 'Â§ßËíú', color: '#ffffff', icon: 'üßÑ', price: 0 },
            { id: 'shrimp', name: 'Ëôæ', color: '#f8bbd9', icon: 'ü¶ê', price: 20 },
            { id: 'lobster', name: 'ÈæôËôæ', color: '#ff8a65', icon: 'ü¶û', price: 30 },
            { id: 'caviar', name: 'È±ºÂ≠êÈÖ±', color: '#7986cb', icon: 'ü•´', price: 50 },
            { id: 'truffle', name: 'ÊùæÈú≤', color: '#6d4c41', icon: 'üçÑ', price: 40 }
        ];
        
        // ÊØîËµõ‰∏ªÈ¢òÂíåËßÑÂàô
        const competitionThemes = [
            {
                name: "Êµ∑È≤úÁõõÂÆ¥",
                rules: "ÂøÖÈ°ªËá≥Â∞ë‰ΩøÁî®3ÁßçÊµ∑È≤úÈ£üÊùê",
                requiredIngredients: ['fish', 'shrimp', 'lobster'],
                scoreMultiplier: 1.5
            },
            {
                name: "Á¥†È£üÁæéÂ≠¶",
                rules: "Âè™ËÉΩ‰ΩøÁî®Ëî¨ËèúÁ±ªÈ£üÊùê",
                requiredIngredients: ['tomato', 'carrot', 'onion', 'pepper', 'mushroom'],
                scoreMultiplier: 1.3
            },
            {
                name: "ËÇâÁ±ªÁãÇÊ¨¢",
                rules: "ÂøÖÈ°ªËá≥Â∞ë‰ΩøÁî®2ÁßçËÇâÁ±ª",
                requiredIngredients: ['pork', 'beef', 'chicken'],
                scoreMultiplier: 1.4
            },
            {
                name: "ÂàõÊÑèÊ∑∑Êê≠",
                rules: "‰ΩøÁî®Ëá≥Â∞ë5Áßç‰∏çÂêåÁ±ªÂûãÁöÑÈ£üÊùê",
                requiredIngredients: [],
                minIngredients: 5,
                scoreMultiplier: 1.6
            },
            {
                name: "ÁªèÊµéÂÆûÊÉ†",
                rules: "ÊÄªÈ£üÊùê‰ª∑ÂÄº‰∏çËÉΩË∂ÖËøá50ÈáëÂ∏Å",
                maxCost: 50,
                scoreMultiplier: 1.2
            }
        ];
        
        // AIÂé®Â∏àÂêçÂ≠óÂíåÂ§¥ÂÉè
        const aiChefs = [
            { name: "ÁéãÂ∏àÂÇÖ", avatar: "üë®‚Äçüç≥" },
            { name: "ÊùéÂ§ßÂé®", avatar: "üßë‚Äçüç≥" },
            { name: "Âº†ÁæéÈ£ü", avatar: "üë©‚Äçüç≥" }
        ];
        
        // È°æÂÆ¢Á±ªÂûãÂíåÂÅèÂ•Ω
        const customerTypes = [
            {
                name: 'ÁæéÈ£üÂÆ∂',
                icon: 'üë®‚Äçüç≥',
                preferences: ['rice', 'noodle', 'pork', 'beef', 'fish', 'shrimp', 'lobster', 'caviar'],
                message: 'ÊàëÊòØÁæéÈ£üÂÆ∂ÔºåÊúüÂæÖÊÇ®ÁöÑÊù∞‰ΩúÔºÅ',
                highExpectation: true,
                bonusThreshold: 4
            },
            {
                name: 'Á¥†È£üËÄÖ',
                icon: 'üßë‚Äçüåæ',
                preferences: ['tomato', 'carrot', 'onion', 'pepper', 'mushroom', 'potato', 'corn'],
                message: 'ÊàëÂè™ÂêÉËî¨ËèúÔºåËØ∑‰∏∫ÊàëÂáÜÂ§áÁ¥†È£üÊñôÁêÜ„ÄÇ',
                highExpectation: false,
                bonusThreshold: 3
            },
            {
                name: 'ÂÑøÁ´•',
                icon: 'üë∂',
                preferences: ['egg', 'cheese', 'chicken', 'potato', 'corn'],
                message: 'ÊàëË¶ÅÂêÉÂ•ΩÂêÉÁöÑÔºÅ‰∏çË¶ÅËæ£ÁöÑÂì¶~',
                highExpectation: false,
                bonusThreshold: 3
            },
            {
                name: 'ÂÅ•Â∫∑Ëææ‰∫∫',
                icon: 'üèÉ‚Äç‚ôÇÔ∏è',
                preferences: ['fish', 'chicken', 'vegetable'],
                message: 'ÊàëÊ≥®ÈáçÂÅ•Â∫∑ÔºåËØ∑Ê∏ÖÊ∑°‰∏Ä‰∫õ„ÄÇ',
                highExpectation: true,
                bonusThreshold: 4
            },
            {
                name: 'ÊôÆÈÄöÈ°æÂÆ¢',
                icon: 'üë®‚Äçüíº',
                preferences: [],
                message: 'Èöè‰æøÊù•ÁÇπÂ•ΩÂêÉÁöÑÂ∞±Â•ΩÔºÅ',
                highExpectation: false,
                bonusThreshold: 3
            }
        ];
        
        // Ê∏∏ÊàèÁä∂ÊÄÅ
        let selectedIngredients = [];
        let currentRating = 0;
        let savedRecipes = JSON.parse(localStorage.getItem('savedRecipes')) || [];
        let currentDish = null;
        let restaurantStats = JSON.parse(localStorage.getItem('restaurantStats')) || {
            totalEarnings: 0,
            totalRating: 0,
            customersServed: 0
        };
        let ownedIngredients = JSON.parse(localStorage.getItem('ownedIngredients')) || [];
        let gold = parseInt(localStorage.getItem('gold')) || 100;
        let restaurantName = localStorage.getItem('restaurantName') || 'ÁæéÂë≥Â∞èÂé®';
        let competitionInProgress = false;
        let competitionTimer = null;
        let certificates = JSON.parse(localStorage.getItem('certificates')) || [];
        
        // DOMÂÖÉÁ¥†
        const ingredientsGrid = document.getElementById('ingredientsGrid');
        const cookingPot = document.getElementById('cookingPot');
        const potContent = document.getElementById('potContent');
        const clearBtn = document.getElementById('clearBtn');
        const cookBtn = document.getElementById('cookBtn');
        const recipeNameInput = document.getElementById('recipeName');
        const ratingStars = document.querySelectorAll('.star');
        const ratingValue = document.getElementById('ratingValue');
        const saveBtn = document.getElementById('saveBtn');
        const recipeList = document.getElementById('recipeList');
        const recipeModal = document.getElementById('recipeModal');
        const closeModal = document.getElementById('closeModal');
        const recipeDetails = document.getElementById('recipeDetails');
        const notification = document.getElementById('notification');
        const servingArea = document.getElementById('servingArea');
        const customerArea = document.getElementById('customerArea');
        const customerMessage = document.getElementById('customerMessage');
        const customerRating = document.getElementById('customerRating');
        const customerComment = document.getElementById('customerComment');
        const earningsValue = document.getElementById('earningsValue');
        const bonusEarnings = document.getElementById('bonusEarnings');
        const bonusValue = document.getElementById('bonusValue');
        const nextCustomerBtn = document.getElementById('nextCustomerBtn');
        const goldAmount = document.getElementById('goldAmount');
        const restaurantNameInput = document.getElementById('restaurantNameInput');
        
        // ÊØîËµõÁõ∏ÂÖ≥ÂÖÉÁ¥†
        const competitionInfo = document.getElementById('competitionInfo');
        const competitionTheme = document.getElementById('competitionTheme');
        const competitionRules = document.getElementById('competitionRules');
        const competitionProgress = document.getElementById('competitionProgress');
        const progressBar = document.getElementById('progressBar');
        const competitionTimerDisplay = document.getElementById('competitionTimer');
        const competitionResults = document.getElementById('competitionResults');
        const resultsContainer = document.getElementById('resultsContainer');
        const certificate = document.getElementById('certificate');
        const certificateRestaurant = document.getElementById('certificateRestaurant');
        const certificateDate = document.getElementById('certificateDate');
        const startCompetitionBtn = document.getElementById('startCompetitionBtn');
        
        // Â•ñÁä∂Â¢ôÁõ∏ÂÖ≥ÂÖÉÁ¥†
        const certificateWall = document.getElementById('certificateWall');
        const certificateGrid = document.getElementById('certificateGrid');
        const certificateCount = document.getElementById('certificateCount');
        const certificateModal = document.getElementById('certificateModal');
        const closeModalCertificateModal = document.getElementById('closeCertificateModal');
        const certificateModalContent = document.getElementById('certificateModalContent');
        const certificateModalRestaurant = document.getElementById('certificateModalRestaurant');
        const certificateModalDate = document.getElementById('certificateModalDate');
        
        // ÁªüËÆ°ÂÖÉÁ¥†
        const totalEarnings = document.getElementById('totalEarnings');
        const avgRating = document.getElementById('avgRating');
        const customersServed = document.getElementById('customersServed');
        
        // ÂàùÂßãÂåñÊ∏∏Êàè
        function init() {
            restaurantNameInput.value = restaurantName;
            renderIngredients();
            loadSavedRecipes();
            loadCertificateWall();
            updateStats();
            updateGoldDisplay();
            setupEventListeners();
        }
        
        // ‰øùÂ≠òÈ•≠Â∫óÂêçÁß∞
        function saveRestaurantName() {
            restaurantName = restaurantNameInput.value.trim() || 'ÁæéÂë≥Â∞èÂé®';
            localStorage.setItem('restaurantName', restaurantName);
            showNotification(`È•≠Â∫óÂêçÁß∞Â∑≤Êõ¥Êñ∞‰∏∫Ôºö${restaurantName}`);
        }
        
        // Ê∏≤ÊüìÈ£üÊùêÈÄâÊã©Âô®
        function renderIngredients() {
            ingredientsGrid.innerHTML = '';
            ingredients.forEach(ingredient => {
                const ingredientEl = document.createElement('div');
                ingredientEl.className = 'ingredient-item';
                
                // Ê£ÄÊü•ÊòØÂê¶Êã•ÊúâËØ•È£üÊùê
                const isOwned = ownedIngredients.includes(ingredient.id);
                const isSelected = selectedIngredients.some(ing => ing.id === ingredient.id);
                
                if (!isOwned && ingredient.price > 0) {
                    ingredientEl.classList.add('locked');
                } else {
                    ingredientEl.addEventListener('click', () => toggleIngredient(ingredient.id));
                }
                
                if (isSelected) {
                    ingredientEl.classList.add('selected');
                }
                
                if (ingredient.price > 0) {
                    ingredientEl.classList.add('paid');
                }
                
                ingredientEl.dataset.id = ingredient.id;
                
                const icon = document.createElement('div');
                icon.className = 'ingredient-icon';
                icon.innerHTML = `
                    <svg viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" fill="${ingredient.color}" />
                        <text x="50" y="60" text-anchor="middle" font-size="30">${ingredient.icon}</text>
                    </svg>
                `;
                
                const name = document.createElement('div');
                name.className = 'ingredient-name';
                name.textContent = ingredient.name;
                
                ingredientEl.appendChild(icon);
                ingredientEl.appendChild(name);
                
                // Â¶ÇÊûúÈ£üÊùêÈúÄË¶ÅË¥≠‰π∞
                if (ingredient.price > 0) {
                    const priceEl = document.createElement('div');
                    priceEl.className = 'ingredient-price';
                    priceEl.textContent = `üí∞${ingredient.price}`;
                    ingredientEl.appendChild(priceEl);
                    
                    const buyBtn = document.createElement('button');
                    buyBtn.className = 'buy-btn';
                    buyBtn.textContent = isOwned ? 'Â∑≤Êã•Êúâ' : 'Ë¥≠‰π∞';
                    buyBtn.disabled = isOwned;
                    
                    if (!isOwned) {
                        buyBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            buyIngredient(ingredient);
                        });
                    }
                    
                    ingredientEl.appendChild(buyBtn);
                }
                
                ingredientsGrid.appendChild(ingredientEl);
            });
        }
        
        // Ë¥≠‰π∞È£üÊùê
        function buyIngredient(ingredient) {
            if (gold >= ingredient.price) {
                gold -= ingredient.price;
                ownedIngredients.push(ingredient.id);
                
                // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
                localStorage.setItem('gold', gold);
                localStorage.setItem('ownedIngredients', JSON.stringify(ownedIngredients));
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                updateGoldDisplay();
                renderIngredients();
                showNotification(`ÊàêÂäüË¥≠‰π∞ ${ingredient.name}ÔºÅ`);
            } else {
                showNotification('ÈáëÂ∏Å‰∏çË∂≥ÔºÅ', true);
            }
        }
        
        // Êõ¥Êñ∞ÈáëÂ∏ÅÊòæÁ§∫
        function updateGoldDisplay() {
            goldAmount.textContent = gold;
        }
        
        // ÂàáÊç¢È£üÊùêÈÄâÊã©Áä∂ÊÄÅ
        function toggleIngredient(id) {
            const ingredient = ingredients.find(ing => ing.id === id);
            
            // Ê£ÄÊü•ÊòØÂê¶Êã•ÊúâËØ•È£üÊùê
            if (!ownedIngredients.includes(id) && ingredient.price > 0) {
                showNotification('ËØ∑ÂÖàË¥≠‰π∞Ê≠§È£üÊùêÔºÅ', true);
                return;
            }
            
            const index = selectedIngredients.findIndex(ing => ing.id === id);
            
            if (index === -1) {
                // Ê∑ªÂä†È£üÊùê
                selectedIngredients.push(ingredient);
                addIngredientToPot(ingredient);
            } else {
                // ÁßªÈô§È£üÊùê
                selectedIngredients.splice(index, 1);
                renderPotContent();
            }
            
            updateIngredientUI();
            updateCookButton();
        }
        
        // Â∞ÜÈ£üÊùêÊ∑ªÂä†Âà∞ÈîÖ‰∏≠
        function addIngredientToPot(ingredient) {
            const potIngredient = document.createElement('div');
            potIngredient.className = 'ingredient-in-pot';
            potIngredient.dataset.id = ingredient.id;
            potIngredient.innerHTML = `
                <svg viewBox="0 0 30 30">
                    <circle cx="15" cy="15" r="12" fill="${ingredient.color}" />
                    <text x="15" y="20" text-anchor="middle" font-size="16">${ingredient.icon}</text>
                </svg>
            `;
            
            potContent.appendChild(potIngredient);
        }
        
        // ÈáçÊñ∞Ê∏≤ÊüìÈîÖ‰∏≠ÁöÑÂÜÖÂÆπ
        function renderPotContent() {
            potContent.innerHTML = '';
            selectedIngredients.forEach(ingredient => {
                addIngredientToPot(ingredient);
            });
        }
        
        // Êõ¥Êñ∞È£üÊùêUIÁä∂ÊÄÅ
        function updateIngredientUI() {
            document.querySelectorAll('.ingredient-item').forEach(item => {
                const id = item.dataset.id;
                const isOwned = ownedIngredients.includes(id);
                
                if (selectedIngredients.some(ing => ing.id === id) && isOwned) {
                    item.classList.add('selected');
                } else {
                    item.classList.remove('selected');
                }
            });
        }
        
        // Êõ¥Êñ∞ÁÉπÈ•™ÊåâÈíÆÁä∂ÊÄÅ
        function updateCookButton() {
            // Ê£ÄÊü•ÊòØÂê¶ÊúâÊú™Ë¥≠‰π∞ÁöÑÈ£üÊùê
            const hasUnownedIngredient = selectedIngredients.some(ing => 
                !ownedIngredients.includes(ing.id) && ingredients.find(i => i.id === ing.id).price > 0
            );
            
            cookBtn.disabled = selectedIngredients.length === 0 || hasUnownedIngredient;
            
            if (hasUnownedIngredient) {
                cookBtn.textContent = 'ËØ∑ÂÖàË¥≠‰π∞È£üÊùê';
            } else {
                cookBtn.textContent = 'ÂÆåÊàêÁÉπÈ•™';
            }
        }
        
        // Ê∏ÖÁ©∫ÈîÖÂ≠ê
        function clearPot() {
            selectedIngredients = [];
            renderPotContent();
            updateIngredientUI();
            updateCookButton();
        }
        
        // ÁÉπÈ•™Âä®Áîª
        function startCooking() {
            if (selectedIngredients.length === 0) return;
            
            cookBtn.disabled = true;
            cookBtn.textContent = 'ÁÉπÈ•™‰∏≠...';
            
            const pot = document.getElementById('cookingPot');
            pot.style.animation = 'shake 1s ease-in-out';
            
            setTimeout(() => {
                pot.style.animation = '';
                cookBtn.textContent = 'ÂÆåÊàêÁÉπÈ•™';
                showNotification('ÁÉπÈ•™ÂÆåÊàêÔºÅÁé∞Âú®ÂèØ‰ª•ÁªôÈ°æÂÆ¢‰∫Ü');
                prepareServingArea();
            }, 1000);
        }
        
        // ËÆæÁΩÆÂä®Áîª
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .fade-in {
                animation: fadeIn 0.5s ease forwards;
            }
        `;
        document.head.appendChild(style);
        
        // ÂáÜÂ§á‰∏äËèúÂå∫Âüü
        function prepareServingArea() {
            currentDish = [...selectedIngredients];
            
            servingArea.innerHTML = `
                <p style="margin-bottom: 15px; color: #666;">ËØ∑Â∞ÜËøôÈÅìËèúÁ´ØÁªôÈ°æÂÆ¢ÔºÅ</p>
                <div class="dish-plate">
                    <div class="dish-content" id="dishContent">
                        <!-- ËèúËÇ¥ÂÜÖÂÆπÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå -->
                    </div>
                </div>
                <button class="btn btn-serve" id="serveBtn">‰∏äËèú</button>
            `;
            
            const dishContent = document.getElementById('dishContent');
            const serveBtn = document.getElementById('serveBtn');
            
            // Ê∏≤ÊüìËèúËÇ¥ÂÜÖÂÆπ
            selectedIngredients.forEach(ingredient => {
                const dishIngredient = document.createElement('div');
                dishIngredient.innerHTML = `
                    <svg viewBox="0 0 20 20" style="width: 20px; height: 20px;">
                        <circle cx="10" cy="10" r="9" fill="${ingredient.color}" />
                        <text x="10" y="14" text-anchor="middle" font-size="10">${ingredient.icon}</text>
                    </svg>
                `;
                dishContent.appendChild(dishIngredient);
            });
            
            serveBtn.addEventListener('click', serveToCustomer);
        }
        
        // ‰∏∫È°æÂÆ¢‰∏äËèú
        function serveToCustomer() {
            const customer = customerTypes[Math.floor(Math.random() * customerTypes.length)];
            let score = 0;
            let earnings = 0;
            let comment = '';
            let bonus = 0;
            
            // ËÆ°ÁÆóÂæóÂàÜ
            if (selectedIngredients.length === 0) {
                score = 1;
                comment = 'ËøôÊòØ‰ªÄ‰πàÔºüÁ©∫ÁöÑÁõòÂ≠êÂêóÔºü';
            } else if (customer.highExpectation && selectedIngredients.length < 3) {
                score = 2;
                comment = 'ËøôÂ§™ÁÆÄÂçï‰∫ÜÔºåÊàëËøòÊúüÂæÖÊõ¥Â•ΩÁöÑÊñôÁêÜ„ÄÇ';
            } else {
                // Ê£ÄÊü•ÊòØÂê¶Á¨¶ÂêàÈ°æÂÆ¢ÂÅèÂ•Ω
                const matchedIngredients = selectedIngredients.filter(ing => 
                    customer.preferences.includes(ing.id)
                ).length;
                
                if (customer.preferences.length > 0) {
                    const matchRatio = matchedIngredients / customer.preferences.length;
                    score = Math.ceil(1 + matchRatio * 4);
                    
                    if (score >= 4) {
                        comment = 'Â§™ÁæéÂë≥‰∫ÜÔºÅ‰Ω†ÂæàÊáÇÊàëÂñúÊ¨¢ÁöÑÂè£Âë≥ÔºÅ';
                    } else if (score === 3) {
                        comment = 'Ëøò‰∏çÈîôÔºå‰ΩÜËøò‰∏çÂ§üÂ•Ω„ÄÇ';
                    } else {
                        comment = 'Ëøô‰∏çÊòØÊàëÊÉ≥Ë¶ÅÁöÑÈ£éÊ†º„ÄÇ';
                    }
                } else {
                    // ÊôÆÈÄöÈ°æÂÆ¢ÔºåÊ†πÊçÆÈ£üÊùêÂ§öÊ†∑ÊÄßËØÑÂàÜ
                    const uniqueIngredients = new Set(selectedIngredients.map(ing => ing.id)).size;
                    score = Math.min(5, Math.ceil(uniqueIngredients / 2));
                    
                    if (score >= 4) {
                        comment = 'ÂìáÔºÅËøôÈÅìËèúÁúüÊ£íÔºÅ';
                    } else if (score === 3) {
                        comment = 'Âë≥ÈÅìËøòÂèØ‰ª•„ÄÇ';
                    } else {
                        comment = 'Â•ΩÂÉèÂ∞ë‰∫ÜÁÇπ‰ªÄ‰πà...';
                    }
                }
            }
            
            // ËÆ°ÁÆóÊî∂Áõä
            earnings = score * 10;
            
            // Ê£ÄÊü•ÊòØÂê¶Ëé∑ÂæóÂ•ñÂä±
            if (score >= customer.bonusThreshold) {
                bonus = 10;
            }
            
            // Êõ¥Êñ∞È§êÂéÖÁªüËÆ°
            restaurantStats.totalEarnings += earnings + bonus;
            restaurantStats.totalRating += score;
            restaurantStats.customersServed += 1;
            
            // Êõ¥Êñ∞ÈáëÂ∏Å
            gold += earnings + bonus;
            
            // ‰øùÂ≠òÊï∞ÊçÆ
            localStorage.setItem('restaurantStats', JSON.stringify(restaurantStats));
            localStorage.setItem('gold', gold);
            
            // ÊòæÁ§∫È°æÂÆ¢ÂèçÂ∫î
            customerArea.style.display = 'block';
            customerMessage.textContent = customer.message;
            
            // ÊòæÁ§∫ËØÑÂàÜ
            customerRating.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('span');
                star.className = 'star';
                star.textContent = i <= score ? '‚òÖ' : '‚òÜ';
                star.style.color = i <= score ? '#ffc107' : '#ddd';
                customerRating.appendChild(star);
            }
            
            customerComment.textContent = comment;
            earningsValue.textContent = earnings;
            
            // ÊòæÁ§∫Â•ñÂä±
            if (bonus > 0) {
                bonusEarnings.style.display = 'block';
                bonusValue.textContent = `+${bonus}`;
            } else {
                bonusEarnings.style.display = 'none';
            }
            
            // Ê∑ªÂä†Ê∑°ÂÖ•Âä®Áîª
            customerArea.classList.add('fade-in');
            
            // ÊªöÂä®Âà∞È°æÂÆ¢Âå∫Âüü
            customerArea.scrollIntoView({ behavior: 'smooth' });
            
            // Êõ¥Êñ∞ÁªüËÆ°ÊòæÁ§∫
            updateStats();
            updateGoldDisplay();
            
            // ÈöêËóè‰∏äËèúÂå∫Âüü
            servingArea.style.display = 'none';
        }
        
        // Êõ¥Êñ∞ÁªüËÆ°ÊòæÁ§∫
        function updateStats() {
            totalEarnings.textContent = restaurantStats.totalEarnings;
            
            const avgScore = restaurantStats.customersServed > 0
                ? (restaurantStats.totalRating / restaurantStats.customersServed).toFixed(1)
                : 0;
            avgRating.textContent = avgScore;
            
            customersServed.textContent = restaurantStats.customersServed;
        }
        
        // ‰∏ã‰∏Ä‰ΩçÈ°æÂÆ¢
        function nextCustomer() {
            customerArea.style.display = 'none';
            customerArea.classList.remove('fade-in');
            
            servingArea.style.display = 'block';
            servingArea.innerHTML = `
                <p style="margin-bottom: 15px; color: #666;">ÁÉπÈ•™ÂÆåÊàêÂêéÔºå‰∏∫È°æÂÆ¢Êèê‰æõÊÇ®ÁöÑÁæéÈ£üÔºÅ</p>
                <div style="text-align: center;">
                    <svg width="60" height="60" viewBox="0 0 100 100">
                        <circle cx="50" cy="45" r="30" fill="#ffccbc" />
                        <circle cx="40" cy="40" r="3" fill="#333" />
                        <circle cx="60" cy="40" r="3" fill="#333" />
                        <path d="M 40 55 Q 50 65 60 55" stroke="#333" stroke-width="2" fill="none" />
                        <ellipse cx="50" cy="80" rx="25" ry="35" fill="#4fc3f7" style="opacity: 0" id="customerWait" />
                    </svg>
                </div>
                <p style="margin-top: 15px; color: #666;">È°æÂÆ¢Ê≠£Âú®Á≠âÂæÖ...</p>
            `;
            
            // Ê®°ÊãüÈ°æÂÆ¢Á≠âÂæÖ
            setTimeout(() => {
                const customerWait = document.getElementById('customerWait');
                if (customerWait) {
                    customerWait.style.transition = 'opacity 1s';
                    customerWait.style.opacity = '1';
                }
            }, 500);
        }
        
        // Êõ¥Êñ∞‰øùÂ≠òÊåâÈíÆÁä∂ÊÄÅ
        function updateSaveButton() {
            saveBtn.disabled = selectedIngredients.length === 0 || !recipeNameInput.value.trim() || currentRating === 0;
        }
        
        // ËÆæÁΩÆËØÑÂàÜ
        function setRating(rating) {
            currentRating = rating;
            ratingStars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
            ratingValue.textContent = `${rating}/5`;
            updateSaveButton();
        }
        
        // ‰øùÂ≠òÈ£üË∞±
        function saveRecipe() {
            const recipeName = recipeNameInput.value.trim();
            
            if (!recipeName || !selectedIngredients.length || currentRating === 0) {
                return;
            }
            
            const recipe = {
                id: Date.now(),
                name: recipeName,
                ingredients: [...selectedIngredients],
                rating: currentRating,
                date: new Date().toLocaleDateString('zh-CN')
            };
            
            savedRecipes.push(recipe);
            localStorage.setItem('savedRecipes', JSON.stringify(savedRecipes));
            
            // ÈáçÁΩÆË°®Âçï
            clearPot();
            recipeNameInput.value = '';
            setRating(0);
            
            // Êõ¥Êñ∞ÊòæÁ§∫
            loadSavedRecipes();
            showNotification('È£üË∞±‰øùÂ≠òÊàêÂäüÔºÅ');
            updateSaveButton();
        }
        
        // Âä†ËΩΩÂ∑≤‰øùÂ≠òÁöÑÈ£üË∞±
        function loadSavedRecipes() {
            recipeList.innerHTML = '';
            
            if (savedRecipes.length === 0) {
                recipeList.innerHTML = '<p style="text-align: center; color: #999;">ËøòÊ≤°Êúâ‰øùÂ≠òÁöÑÈ£üË∞±</p>';
                return;
            }
            
            savedRecipes.forEach(recipe => {
                const recipeEl = document.createElement('div');
                recipeEl.className = 'recipe-item';
                recipeEl.dataset.id = recipe.id;
                
                // ÁîüÊàêÈ£üË∞±SVG
                let ingredientsSVG = '';
                recipe.ingredients.slice(0, 4).forEach((ingredient, index) => {
                    ingredientsSVG += `
                        <circle cx="${15 + index * 15}" cy="30" r="8" fill="${ingredient.color}" />
                        <text x="${15 + index * 15}" y="35" text-anchor="middle" font-size="8">${ingredient.icon}</text>
                    `;
                });
                
                recipeEl.innerHTML = `
                    <div class="recipe-icon">
                        <svg viewBox="0 0 60 60">
                            <circle cx="30" cy="30" r="28" fill="white" stroke="#e0e0e0" stroke-width="2" />
                            ${ingredientsSVG}
                        </svg>
                    </div>
                    <div class="recipe-name">${recipe.name}</div>
                    <div class="recipe-rating">${'‚òÖ'.repeat(recipe.rating)}${'‚òÜ'.repeat(5 - recipe.rating)}</div>
                `;
                
                recipeEl.addEventListener('click', () => showRecipeDetails(recipe));
                recipeList.appendChild(recipeEl);
            });
        }
        
        // ÊòæÁ§∫È£üË∞±ËØ¶ÊÉÖ
        function showRecipeDetails(recipe) {
            recipeDetails.innerHTML = `
                <h3>${recipe.name}</h3>
                <div class="recipe-rating">ËØÑÂàÜ: ${'‚òÖ'.repeat(recipe.rating)}${'‚òÜ'.repeat(5 - recipe.rating)} (${recipe.rating}/5)</div>
                <div class="recipe-ingredients">
                    <p><strong>È£üÊùê:</strong></p>
                    ${recipe.ingredients.map(ing => {
                        const ingredient = ingredients.find(i => i.id === ing.id);
                        const priceText = ingredient.price > 0 ? ` (üí∞${ingredient.price})` : '';
                        return `<span class="ingredient-tag">${ing.icon} ${ing.name}${priceText}</span>`;
                    }).join('')}
                </div>
                <div style="margin-top: 20px;">
                    <p><strong>ÂàõÂª∫Êó•Êúü:</strong> ${recipe.date}</p>
                </div>
                <div style="margin-top: 20px; text-align: center;">
                    <button class="btn btn-cook" onclick="loadRecipe(${recipe.id})">ÈáçÊñ∞Âà∂‰Ωú</button>
                </div>
            `;
            
            recipeModal.style.display = 'flex';
        }
        
        // Âä†ËΩΩÈ£üË∞±Âà∞ÁÉπÈ•™Âå∫
        function loadRecipe(recipeId) {
            const recipe = savedRecipes.find(r => r.id === recipeId);
            if (!recipe) return;
            
            clearPot();
            selectedIngredients = [...recipe.ingredients];
            
            // Ê£ÄÊü•ÊòØÂê¶ÊúâÊú™Ë¥≠‰π∞ÁöÑÈ£üÊùê
            recipe.ingredients.forEach(ingredient => {
                const ingredientData = ingredients.find(i => i.id === ingredient.id);
                if (ingredientData.price > 0 && !ownedIngredients.includes(ingredient.id)) {
                    showNotification(`ËØ∑ÂÖàË¥≠‰π∞ ${ingredient.name}ÔºÅ`, true);
                }
            });
            
            renderPotContent();
            updateIngredientUI();
            
            recipeModal.style.display = 'none';
            
            // ÊªöÂä®Âà∞ÁÉπÈ•™Âå∫
            document.querySelector('.cooking-area').scrollIntoView({ behavior: 'smooth' });
        }
        
        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, isError = false) {
            notification.textContent = message;
            notification.style.background = isError ? '#f44336' : '#4caf50';
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // ÂºÄÂßãÁÉπÈ•™ÊØîËµõ
        function startCompetition() {
            if (competitionInProgress) return;
            
            competitionInProgress = true;
            startCompetitionBtn.disabled = true;
            startCompetitionBtn.textContent = 'ÊØîËµõËøõË°å‰∏≠...';
            
            // ÈöèÊú∫ÈÄâÊã©ÊØîËµõ‰∏ªÈ¢ò
            const theme = competitionThemes[Math.floor(Math.random() * competitionThemes.length)];
            competitionTheme.textContent = theme.name;
            competitionRules.textContent = theme.rules;
            
            // ÊòæÁ§∫ÊØîËµõ‰ø°ÊÅØ
            competitionInfo.style.display = 'block';
            competitionProgress.style.display = 'block';
            competitionTimerDisplay.style.display = 'block';
            competitionResults.style.display = 'none';
            
            // ÈáçÁΩÆËøõÂ∫¶Êù°
            progressBar.style.width = '0%';
            
            // ÂºÄÂßãÂÄíËÆ°Êó∂
            let timeLeft = 40;
            competitionTimerDisplay.textContent = `ÊØîËµõÊó∂Èó¥Ôºö${timeLeft}Áßí`;
            
            competitionTimer = setInterval(() => {
                timeLeft--;
                competitionTimerDisplay.textContent = `ÊØîËµõÊó∂Èó¥Ôºö${timeLeft}Áßí`;
                
                // Êõ¥Êñ∞ËøõÂ∫¶Êù°
                const progress = ((60 - timeLeft) / 60) * 100;
                progressBar.style.width = `${progress}%`;
                
                if (timeLeft <= 0) {
                    endCompetition(theme);
                }
            }, 1000);
            
            // ÊªöÂä®Âà∞ÊØîËµõÂå∫Âüü
            document.querySelector('.competition-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        // ÁªìÊùüÊØîËµõ
        function endCompetition(theme) {
            clearInterval(competitionTimer);
            competitionInProgress = false;
            
            // ÊòæÁ§∫ÁªìÊûú
            showCompetitionResults(theme);
        }
        
        // ÊòæÁ§∫ÊØîËµõÁªìÊûú
        function showCompetitionResults(theme) {
            // ÈöêËóèÊØîËµõ‰ø°ÊÅØ
            competitionInfo.style.display = 'none';
            competitionProgress.style.display = 'none';
            competitionTimerDisplay.style.display = 'none';
            
            // ËÆ°ÁÆóÁé©ÂÆ∂ÂæóÂàÜ
            let playerScore = calculateCompetitionScore(selectedIngredients, theme);
            
            // ÁîüÊàêAIÂé®Â∏àÂæóÂàÜ
            const aiScores = aiChefs.map(chef => {
                let aiScore = Math.floor(Math.random() * 20) + 60; // 60-80ÂàÜ‰πãÈó¥ÁöÑÈöèÊú∫ÂàÜÊï∞
                if (theme.scoreMultiplier) {
                    aiScore = Math.min(100, Math.floor(aiScore * theme.scoreMultiplier));
                }
                return {
                    name: chef.name,
                    avatar: chef.avatar,
                    score: aiScore
                };
            });
            
            // Ê∑ªÂä†Áé©ÂÆ∂ÂæóÂàÜ
            aiScores.push({
                name: '‰Ω†',
                avatar: 'üë®‚Äçüç≥',
                score: playerScore,
                isPlayer: true
            });
            
            // ÊéíÂ∫èÂæóÂàÜ
            aiScores.sort((a, b) => b.score - a.score);
            
            // ÊòæÁ§∫ÁªìÊûú
            competitionResults.style.display = 'block';
            resultsContainer.innerHTML = '';
            
            aiScores.forEach((result, index) => {
                const resultCard = document.createElement('div');
                resultCard.className = 'result-card';
                if (result.isPlayer) {
                    resultCard.style.background = index === 0 ? '#e8f5e9' : '#fff3e0';
                    resultCard.style.border = index === 0 ? '2px solid #4caf50' : '2px solid #ff9800';
                }
                
                resultCard.innerHTML = `
                    <div class="result-player">
                        <div class="result-avatar" style="background: ${result.isPlayer ? (index === 0 ? '#c8e6c9' : '#ffe0b2') : '#f5f5f5'}">
                            ${result.avatar}
                        </div>
                        <div class="result-info">
                            <div class="result-name">${result.name} ${result.isPlayer && index === 0 ? 'üèÜ' : ''}</div>
                            <div class="result-score">${result.isPlayer ? '‰Ω†ÁöÑÂæóÂàÜ' : 'AIÂæóÂàÜ'}</div>
                        </div>
                    </div>
                    <div class="result-points">${result.score}ÂàÜ</div>
                `;
                
                resultsContainer.appendChild(resultCard);
            });
            
            // ÊòæÁ§∫Â•ñÁä∂ÔºàÂ¶ÇÊûúËé∑ËÉúÔºâ
            if (playerScore === Math.max(...aiScores.map(r => r.score))) {
                setTimeout(() => {
                    showCertificate();
                }, 1500);
            } else {
                // ÊòæÁ§∫Â§±Ë¥•‰ø°ÊÅØ
                const noCertificate = document.createElement('div');
                noCertificate.style.textAlign = 'center';
                noCertificate.style.padding = '20px';
                noCertificate.style.color = '#666';
                noCertificate.innerHTML = `
                    <p>ÂæàÈÅóÊÜæÔºåËøôÊ¨°Ê≤°ÊúâËé∑ÂæóÁ¨¨‰∏ÄÂêç„ÄÇ</p>
                    <p>ÂÜçÊé•ÂÜçÂéâÔºå‰∏ãÊ¨°‰∏ÄÂÆöÂèØ‰ª•Ëé∑ËÉúÔºÅ</p>
                `;
                resultsContainer.appendChild(noCertificate);
            }
            
            // ÈáçÁΩÆÊåâÈíÆ
            startCompetitionBtn.disabled = false;
            startCompetitionBtn.textContent = 'ÂÜçÊ¨°ÊØîËµõ';
            
            // ÈáçÁΩÆÈîÖÂ≠ê
            clearPot();
        }
        
        // ËÆ°ÁÆóÊØîËµõÂæóÂàÜ
        function calculateCompetitionScore(ingredients, theme) {
            let score = 0;
            
            // Âü∫Á°ÄÂàÜÔºöÈ£üÊùêÊï∞ÈáèÂíåÂ§öÊ†∑ÊÄß
            const uniqueIngredients = new Set(ingredients.map(ing => ing.id)).size;
            score += uniqueIngredients * 10;
            
            // Ê£ÄÊü•ÁâπÊÆäË¶ÅÊ±Ç
            if (theme.requiredIngredients.length > 0) {
                const requiredCount = theme.requiredIngredients.filter(id => 
                    ingredients.some(ing => ing.id === id)
                ).length;
                score += requiredCount * 15;
            }
            
            if (theme.minIngredients && ingredients.length >= theme.minIngredients) {
                score += 20;
            }
            
            if (theme.maxCost) {
                const totalCost = ingredients.reduce((sum, ing) => {
                    const ingredient = ingredients.find(i => i.id === ing.id);
                    return sum + (ingredient ? ingredient.price : 0);
                }, 0);
                
                if (totalCost <= theme.maxCost) {
                    score += 25;
                } else {
                    score -= (totalCost - theme.maxCost) / 2;
                }
            }
            
            // Â∫îÁî®ÂÄçÊï∞Âä†Êàê
            if (theme.scoreMultiplier) {
                score = Math.min(100, Math.floor(score * theme.scoreMultiplier));
            }
            
            // ÈöèÊú∫Ë∞ÉÊï¥
            score += Math.floor(Math.random() * 11) - 5; // -5Âà∞+5ÁöÑÈöèÊú∫Ë∞ÉÊï¥
            
            return Math.max(0, Math.min(100, score)); // Á°Æ‰øùÂàÜÊï∞Âú®0-100‰πãÈó¥
        }
        
        // ÊòæÁ§∫Â•ñÁä∂
        function showCertificate() {
            certificate.style.display = 'block';
            certificateRestaurant.textContent = `"${restaurantName}"`;
            certificateDate.textContent = new Date().toLocaleDateString('zh-CN');
            
            // ÂàõÂª∫Êñ∞Â•ñÁä∂
            const newCertificate = {
                id: Date.now(),
                restaurant: restaurantName,
                date: new Date().toISOString(),
                competitionTheme: competitionTheme.textContent,
                timestamp: Date.now()
            };
            
            // ‰øùÂ≠òÂ•ñÁä∂
            certificates.push(newCertificate);
            localStorage.setItem('certificates', JSON.stringify(certificates));
            
            // Êõ¥Êñ∞Â•ñÁä∂Â¢ô
            loadCertificateWall();
            
            // ÊòæÁ§∫Ëé∑Â•ñÈÄöÁü•
            setTimeout(() => {
                showNotification('üèÜ ÊÅ≠ÂñúËé∑ÂæóÂ•ñÁä∂ÔºÅ');
            }, 1000);
        }
        
        // Âä†ËΩΩÂ•ñÁä∂Â¢ô
        function loadCertificateWall() {
            certificateGrid.innerHTML = '';
            
            // Êõ¥Êñ∞Â•ñÁä∂Êï∞Èáè
            certificateCount.textContent = `${certificates.length}‰∏™Â•ñÁä∂`;
            
            if (certificates.length === 0) {
                certificateGrid.innerHTML = '<div class="empty-wall">ËøòÊ≤°ÊúâËé∑Âæó‰ªª‰ΩïÂ•ñÁä∂ÔºåÂø´ÂéªÂèÇÂä†ÊØîËµõÂêßÔºÅ</div>';
                return;
            }
            
            // ÊòæÁ§∫Â•ñÁä∂
            certificates.slice().reverse().forEach(certificate => {
                const certificateItem = document.createElement('div');
                certificateItem.className = 'certificate-item';
                
                const date = new Date(certificate.date);
                const formattedDate = `${date.getFullYear()}Âπ¥${date.getMonth() + 1}Êúà${date.getDate()}Êó•`;
                
                certificateItem.innerHTML = `
                    <div class="certificate-preview">
                        <div class="certificate-restaurant">${certificate.restaurant}</div>
                        <div class="certificate-theme">${certificate.competitionTheme}</div>
                        <div class="certificate-date">${formattedDate}</div>
                    </div>
                `;
                
                certificateItem.addEventListener('click', () => {
                    showCertificateModal(certificate);
                });
                
                certificateGrid.appendChild(certificateItem);
            });
        }
        
        // ÊòæÁ§∫Â•ñÁä∂ËØ¶ÊÉÖ
        function showCertificateModal(certificate) {
            const date = new Date(certificate.date);
            const formattedDate = `${date.getFullYear()}Âπ¥${date.getMonth() + 1}Êúà${date.getDate()}Êó•`;
            
            certificateModalRestaurant.textContent = `"${certificate.restaurant}"`;
            certificateModalDate.textContent = `${formattedDate} ¬∑ ${certificate.competitionTheme}`;
            
            certificateModal.style.display = 'flex';
            
            // ÊªöÂä®Âà∞Â•ñÁä∂‰∏≠ÂøÉ
            setTimeout(() => {
                certificateModalContent.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }
        
        // ËÆæÁΩÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupEventListeners() {
            clearBtn.addEventListener('click', clearPot);
            cookBtn.addEventListener('click', startCooking);
            saveBtn.addEventListener('click', saveRecipe);
            startCompetitionBtn.addEventListener('click', startCompetition);
            
            restaurantNameInput.addEventListener('blur', saveRestaurantName);
            restaurantNameInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    saveRestaurantName();
                }
            });
            
            ratingStars.forEach(star => {
                star.addEventListener('click', () => {
                    const rating = parseInt(star.dataset.rating);
                    setRating(rating);
                });
            });
            
            recipeNameInput.addEventListener('input', updateSaveButton);
            
            nextCustomerBtn.addEventListener('click', nextCustomer);
            
            closeModal.addEventListener('click', () => {
                recipeModal.style.display = 'none';
            });
            
            recipeModal.addEventListener('click', (e) => {
                if (e.target === recipeModal) {
                    recipeModal.style.display = 'none';
                }
            });
            
            closeModalCertificateModal.addEventListener('click', () => {
                certificateModal.style.display = 'none';
            });
            
            certificateModal.addEventListener('click', (e) => {
                if (e.target === certificateModal) {
                    certificateModal.style.display = 'none';
                }
            });
            
            // Èò≤Ê≠¢ÁßªÂä®Á´ØÂèåÂáªÁº©Êîæ
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (event) => {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }
        
        // ÂêØÂä®Ê∏∏Êàè
        init();
    </script>
</body>
</html>