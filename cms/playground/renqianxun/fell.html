<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>单词展示 / Word Reveal</title>
<style>
    :root {
        --bg-gradient: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        --card-bg:    #ffffff;
        --accent-1:  #ff6f61;
        --accent-2:  #4a90e2;
        --accent-3:  #50c878;
        --text-dark: #2c3e50;
        --text-light:#ffffff;
    }

    body{
        margin:0;
        font-family: "Segoe UI",Helvetica,Arial,sans-serif;
        min-height:100vh;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:flex-start;
        background: var(--bg-gradient);
        color: var(--text-dark);
    }

    .card{
        background: var(--card-bg);
        border-radius:12px;
        box-shadow:0 8px 20px rgba(0,0,0,0.12);
        padding:2rem;
        margin-top:2rem;
        width:90%;
        max-width:500px;
        text-align:center;
    }

    h1{
        margin:0 0 .5rem;
        font-size:2rem;
        color: var(--accent-1);
    }

    p.description{
        margin:0 0 1.5rem;
        line-height:1.5;
        color:#555;
    }

    #word-display{
        display:flex;
        justify-content:center;
        gap:0.6rem;
        margin:1.5rem 0;
    }
    .letter{
        width:50px;
        height:70px;
        border-radius:8px;
        border:3px solid var(--accent-2);
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:2rem;
        font-weight:600;
        background:#fff;
        color:#fff;               /* 隐藏状态下文字为白，和背景同色 */
        transition:all .3s ease;
    }
    .letter.shown{
        color:var(--accent-2);
        background:#f0f8ff;
    }

    .btn-group{
        display:flex;
        flex-wrap:wrap;
        justify-content:center;
        gap:0.8rem;
        margin-top:1rem;
    }
    button{
        padding:.6rem 1.2rem;
        border:none;
        border-radius:6px;
        font-size:1rem;
        cursor:pointer;
        transition:.2s;
        color:var(--text-light);
    }
    .btn-prev   {background: var(--accent-1);}
    .btn-next   {background: var(--accent-2);}
    .btn-lang   {background: var(--accent-3);}
    .btn-read   {background: #8e44ad;}

    button:hover{opacity:.9;}
    footer{
        margin-top:auto;
        padding:1rem;
        font-size:.85rem;
        color:#777;
    }
</style>
</head>
<body>
    <!-- ------------------- 统一导航栏 开始 ------------------- -->
<nav style="background:#4a90e2;padding:0.8rem 1rem;margin-bottom:2rem;">
    <a href="../index.html" style="color:#fff;text-decoration:none;font-weight:bold;margin-right:1.5rem;">
        首页
    </a>
    <a href="actiion.html" style="color:#fff;text-decoration:none;margin-right:1rem;">
        actiion
    </a>
    <a href="fell.html" style="color:#fff;text-decoration:none;">
        fell
    </a>
</nav>
<!-- ------------------- 统一导航栏 结束 ------------------- -->

<div class="card">
    <h1 id="title">Guess the Word</h1>
    <p class="description" id="desc">
        <strong>fell</strong> – past tense of “fall”; to drop down suddenly.
    </p>

    <div id="word-display"></div>

    <div class="btn-group">
        <button class="btn-prev" onclick="prevLetter()">上一步</button>
        <button class="btn-next" onclick="nextLetter()">下一步</button>
        <button class="btn-lang" onclick="toggleLang()">中文</button>
        <button class="btn-read" onclick="readWord()">朗读</button>
    </div>
</div>

<footer>© 2025 Word Reveal Demo</footer>

<script>
/* ---------- 基础数据 ---------- */
const data = {
    word       : "fell",
    chinese    : "倒塌",               // 简短的中文释义
    description_en : "<strong>fell</strong> – past tense of “fall”; to drop down suddenly.",
    description_zh : "<strong>fell</strong> – “倒塌”或“落下”的过去式，用来表示突然掉落。"
};

let currentIndex = 0;      // 已经显示的字母个数
let isChinese   = false;   // 语言状态

const container = document.getElementById('word-display');

/* ---------- 渲染字母 ---------- */
function render(){
    container.innerHTML = "";
    const letters = data.word.split('');
    for(let i=0;i<letters.length;i++){
        const div = document.createElement('div');
        div.className = "letter";
        if(i < currentIndex){
            div.textContent = letters[i];
            div.classList.add('shown');
        }else{
            div.textContent = "";          // 空白格子
        }
        container.appendChild(div);
    }
    // 更新标题、简介
    document.getElementById('title').innerText = isChinese ? "猜单词" : "Guess the Word";
    document.getElementById('desc').innerHTML   = isChinese ? data.description_zh : data.description_en;
}
/* ---------- 按钮功能 ---------- */
function nextLetter(){
    if(currentIndex < data.word.length){
        currentIndex++;
        render();
    }
}
function prevLetter(){
    if(currentIndex > 0){
        currentIndex--;
        render();
    }
}

/* ---------- 语言切换 ---------- */
function toggleLang(){
    isChinese = !isChinese;
    // 按钮文字也随语言变化
    document.querySelector('.btn-prev').innerText = isChinese ? "上一步" : "Prev";
    document.querySelector('.btn-next').innerText = isChinese ? "下一步" : "Next";
    document.querySelector('.btn-lang').innerText = isChinese ? "English" : "中文";
    document.querySelector('.btn-read').innerText = isChinese ? "朗读" : "Read";
    render();
}

/* ---------- 朗读 ---------- */
function readWord(){
    if (!('speechSynthesis' in window)) {
        alert("当前浏览器不支持语音朗读");
        return;
    }
    const utter = new SpeechSynthesisUtterance(isChinese ? data.chinese : data.word);
    // 选取合适的语言，中文使用 zh-CN，英文使用 en-US
    utter.lang = isChinese ? "zh-CN" : "en-US";
    utter.rate = 0.9;
    window.speechSynthesis.cancel();   // 结束已有的朗读
    window.speechSynthesis.speak(utter);
}

/* ---------- 初始化 ---------- */
render();
</script>
</body>
</html>
